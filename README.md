# moviepedia
В качестве php local server будем использовать Open Server
Ссылка на Open Server: https://ospanel.io/download/
Также нам понадобиться composer: https://getcomposer.org/download/ 
Он нам понадобиться для внедрения пакетов PDO для работы с базой данных и шаблонизатора twig

Чтобы склонировать приложение в Open Server нужно перейти в \OPEN SERVER\OSPanel\domains и открыть там git консоль  
Далее в консоле нужно выполнить команду git clone https://github.com/Antrozhuk/moviepedia.git

Для импорта базы данных необходимо запустить OPEN SERVER и открыть в нём PhpMyAdmin, он находиться во вкладке "Дополнительно".
В PhpMyAdmin логинимся под root без пароля и создаём новую БД moviepedia.
Если ваш пользователь или база будет называться по другому, вы должны изменить эти значения в App/config/Database.php
Заходим в нашу БД и импортируем файл movies.sql который лежит в корне проекта.

Далее в корне приложения нужно открыть терминал и выполнить команду composer install
В файле composer.json прописан autoload и пакеты для PDO и twig
Если всё было сделано правильно, то приложение должно быть готовым к запуску, открываем его в Open Server во вкладке "Мои сайты". 

Архитектура приложения строится под MVC и систему роутинга, которые я разработал в виде миниатюрного фреймворка. 
С помощью конфигурационного файла веб-сервера .htaccess точку входа index.php было решено рзместить в папку public для большей безопасности.
В index.php вызываеться autoloader который инициализирует класс Router отслеживающий запросы и статическое соединение с бд.
Ядро проекта лежит в папке App/Core. Router принимает url запроса и, используя класс routs/Routs находит для соответствующей ссылки название контроллера и его метода.
Для несуществующих url проекта Router вызовет метод error404 класса Error. 
Класс контроллер предоставляет наследуемым элементам функцию render которая занимаеться открытием шаблонов расширения .twig, 
они находяться в App/views. Контроллеры App/Controllers принимают запрос от клиента и управляют моделями App/Models для работы с данными 
и рендерингом шаблонов. Основной контроллер - Main. На него будут ссылаться все существующие роуты.
Со стороны клиента использовал jQuery для удобной отправки запросов с помощью ajax в контроллер Main и обработку событий на кнопки.